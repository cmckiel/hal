<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>hal: /__w/hal/hal/include/hal/i2c.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">hal
   </div>
   <div id="projectbrief">Hardware Abstraction Layer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('i2c_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">i2c.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Interface for the I2C module.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="hal__types_8h_source.html">hal_types.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for i2c.h:</div>
<div class="dyncontent">
<div class="center"><img src="i2c_8h__incl.png" border="0" usemap="#a_2____w_2hal_2hal_2include_2hal_2i2c_8h" alt=""/></div>
<map name="a_2____w_2hal_2hal_2include_2hal_2i2c_8h" id="a_2____w_2hal_2hal_2include_2hal_2i2c_8h">
<area shape="rect" title="Interface for the I2C module." alt="" coords="12,5,163,47"/>
<area shape="rect" href="hal__types_8h.html" title="Common types used across HAL modules." alt="" coords="39,95,136,121"/>
<area shape="rect" title=" " alt="" coords="5,169,76,196"/>
<area shape="rect" title=" " alt="" coords="100,169,171,196"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="i2c_8h__dep__incl.png" border="0" usemap="#a_2____w_2hal_2hal_2include_2hal_2i2c_8hdep" alt=""/></div>
<map name="a_2____w_2hal_2hal_2include_2hal_2i2c_8hdep" id="a_2____w_2hal_2hal_2include_2hal_2i2c_8hdep">
<area shape="rect" title="Interface for the I2C module." alt="" coords="112,5,263,47"/>
<area shape="rect" href="i2c__transaction__queue_8h.html" title="FIFO data structure used to store handles to client I2C transaction requests." alt="" coords="37,95,213,151"/>
<area shape="rect" href="stm32f4__i2c_8c.html" title="STM32F4 I2C HAL implementation." alt="" coords="177,206,323,247"/>
<area shape="rect" href="i2c__transaction__queue_8c.html" title="Implementation for the transaction queue." alt="" coords="5,199,153,255"/>
</map>
</div>
</div>
<p><a href="i2c_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhal__i2c__txn__t.html">hal_i2c_txn_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main data structure for interacting with the I2C module.  <a href="structhal__i2c__txn__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a288204e6e369c6da1e4470acbed291fd"><td class="memItemLeft" align="right" valign="top"><a id="a288204e6e369c6da1e4470acbed291fd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a288204e6e369c6da1e4470acbed291fd">TX_MESSAGE_MAX_LENGTH</a>&#160;&#160;&#160;1024</td></tr>
<tr class="memdesc:a288204e6e369c6da1e4470acbed291fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">May be set to change the size of the TX data array inside the I2C transaction data struct. Unit is bytes. <br /></td></tr>
<tr class="separator:a288204e6e369c6da1e4470acbed291fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcbd3ba60dd1119aa4c771d6ea7a1ea7"><td class="memItemLeft" align="right" valign="top"><a id="afcbd3ba60dd1119aa4c771d6ea7a1ea7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#afcbd3ba60dd1119aa4c771d6ea7a1ea7">RX_MESSAGE_MAX_LENGTH</a>&#160;&#160;&#160;1024</td></tr>
<tr class="memdesc:afcbd3ba60dd1119aa4c771d6ea7a1ea7"><td class="mdescLeft">&#160;</td><td class="mdescRight">May be set to change the size of the RX data array inside the I2C transaction data struct. Unit is bytes. <br /></td></tr>
<tr class="separator:afcbd3ba60dd1119aa4c771d6ea7a1ea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a73836a43ff119911dcac498a33713406"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a73836a43ff119911dcac498a33713406">hal_i2c_txn_state_t</a> { <br />
&#160;&#160;<a class="el" href="i2c_8h.html#a73836a43ff119911dcac498a33713406a4dc5f628215e989f71b66645f94cf2e2">_HAL_I2C_TXN_STATE_MIN</a> = 0
, <a class="el" href="i2c_8h.html#a73836a43ff119911dcac498a33713406a6569048c891443f52fbba36c994fe9c0">HAL_I2C_TXN_STATE_CREATED</a> = _HAL_I2C_TXN_STATE_MIN
, <a class="el" href="i2c_8h.html#a73836a43ff119911dcac498a33713406abc385220faffa17edd85401f145f4517">HAL_I2C_TXN_STATE_QUEUED</a>
, <a class="el" href="i2c_8h.html#a73836a43ff119911dcac498a33713406a3b76823c974a7fd944d58c21b8f682c3">HAL_I2C_TXN_STATE_PROCESSING</a>
, <br />
&#160;&#160;<a class="el" href="i2c_8h.html#a73836a43ff119911dcac498a33713406a8b695999245408af6bbeb40924a2d178">HAL_I2C_TXN_STATE_COMPLETED</a>
, <a class="el" href="i2c_8h.html#a73836a43ff119911dcac498a33713406a155df6dd8d6e27d2ee2bbe1eac409f33">_HAL_I2C_TXN_STATE_MAX</a>
<br />
 }</td></tr>
<tr class="memdesc:a73836a43ff119911dcac498a33713406"><td class="mdescLeft">&#160;</td><td class="mdescRight">The possible states of an I2C transaction (txn).  <a href="i2c_8h.html#a73836a43ff119911dcac498a33713406">More...</a><br /></td></tr>
<tr class="separator:a73836a43ff119911dcac498a33713406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42896651036dd6eda0fa60d8ad7960e7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a42896651036dd6eda0fa60d8ad7960e7">hal_i2c_op_t</a> { <br />
&#160;&#160;<a class="el" href="i2c_8h.html#a42896651036dd6eda0fa60d8ad7960e7a0083c48e9e49b679f2bd9050765eb1a2">_HAL_I2C_OP_MIN</a> = 0
, <a class="el" href="i2c_8h.html#a42896651036dd6eda0fa60d8ad7960e7a169c1de03c7c7e61ac878a162e357e74">HAL_I2C_OP_WRITE</a> = _HAL_I2C_OP_MIN
, <a class="el" href="i2c_8h.html#a42896651036dd6eda0fa60d8ad7960e7a1ac0e4a4ac887a7572604fee24d9570a">HAL_I2C_OP_READ</a>
, <a class="el" href="i2c_8h.html#a42896651036dd6eda0fa60d8ad7960e7a44e96a3a53a8ebfd7198165a63ff1c09">HAL_I2C_OP_WRITE_READ</a>
, <br />
&#160;&#160;<a class="el" href="i2c_8h.html#a42896651036dd6eda0fa60d8ad7960e7ac08a21413f94559d948d3657522ec384">_HAL_I2C_OP_MAX</a>
<br />
 }</td></tr>
<tr class="memdesc:a42896651036dd6eda0fa60d8ad7960e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The common I2C operations read, write, and write-read.  <a href="i2c_8h.html#a42896651036dd6eda0fa60d8ad7960e7">More...</a><br /></td></tr>
<tr class="separator:a42896651036dd6eda0fa60d8ad7960e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0acae19373139879152a34e99a4dc2c4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a0acae19373139879152a34e99a4dc2c4">hal_i2c_txn_result_t</a> { <br />
&#160;&#160;<a class="el" href="i2c_8h.html#a0acae19373139879152a34e99a4dc2c4a945fbe843c2c1874a4ee88bad6f904ea">_HAL_I2C_TXN_RESULT_MIN</a> = 0
, <a class="el" href="i2c_8h.html#a0acae19373139879152a34e99a4dc2c4ab326b20c38078593931669395f517a4e">HAL_I2C_TXN_RESULT_NONE</a> = _HAL_I2C_TXN_RESULT_MIN
, <a class="el" href="i2c_8h.html#a0acae19373139879152a34e99a4dc2c4af96f3a162e453d960516690359d6eb6b">HAL_I2C_TXN_RESULT_SUCCESS</a>
, <a class="el" href="i2c_8h.html#a0acae19373139879152a34e99a4dc2c4ad6934f2a34a641e545682bf330e9d218">HAL_I2C_TXN_RESULT_FAIL</a>
, <br />
&#160;&#160;<a class="el" href="i2c_8h.html#a0acae19373139879152a34e99a4dc2c4adfc12e91b26d6614e9d28141859efe1b">_HAL_I2C_TX_RESULT_MAX</a>
<br />
 }</td></tr>
<tr class="memdesc:a0acae19373139879152a34e99a4dc2c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Result status of a completed transaction.  <a href="i2c_8h.html#a0acae19373139879152a34e99a4dc2c4">More...</a><br /></td></tr>
<tr class="separator:a0acae19373139879152a34e99a4dc2c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a84061c3f3bce491b1d3347716ca6d211"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hal__types_8h.html#ac2231a7f3681886d9b35e08c23759e27">hal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a84061c3f3bce491b1d3347716ca6d211">hal_i2c_init</a> ()</td></tr>
<tr class="memdesc:a84061c3f3bce491b1d3347716ca6d211"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the I2C Module. Must be called prior to using the I2C Module.  <a href="i2c_8h.html#a84061c3f3bce491b1d3347716ca6d211">More...</a><br /></td></tr>
<tr class="separator:a84061c3f3bce491b1d3347716ca6d211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a7d3f9d0e0b8575989c65bbe023e514"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hal__types_8h.html#ac2231a7f3681886d9b35e08c23759e27">hal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a5a7d3f9d0e0b8575989c65bbe023e514">hal_i2c_submit_transaction</a> (<a class="el" href="structhal__i2c__txn__t.html">hal_i2c_txn_t</a> *txn)</td></tr>
<tr class="memdesc:a5a7d3f9d0e0b8575989c65bbe023e514"><td class="mdescLeft">&#160;</td><td class="mdescRight">Submit a transaction to be processed by the driver.  <a href="i2c_8h.html#a5a7d3f9d0e0b8575989c65bbe023e514">More...</a><br /></td></tr>
<tr class="separator:a5a7d3f9d0e0b8575989c65bbe023e514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2552ad4f1a497f1db8a99b0e04b5bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hal__types_8h.html#ac2231a7f3681886d9b35e08c23759e27">hal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#ada2552ad4f1a497f1db8a99b0e04b5bc">hal_i2c_transaction_servicer</a> ()</td></tr>
<tr class="memdesc:ada2552ad4f1a497f1db8a99b0e04b5bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called periodically to manage the loading and unloading of transactions.  <a href="i2c_8h.html#ada2552ad4f1a497f1db8a99b0e04b5bc">More...</a><br /></td></tr>
<tr class="separator:ada2552ad4f1a497f1db8a99b0e04b5bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface for the I2C module. </p>
<p>The I2C module is designed around the idea of a transaction. A transaction is a data structure that contains all information needed to operate on a peripheral on the I2C bus (eg read register X on target, or write X to target) as well as all results from the operation. The transaction is the smallest "unit" of work that the I2C driver operates on. See <a class="el" href="structhal__i2c__txn__t.html">hal_i2c_txn_t</a> for more information.</p>
<p>To use the driver to communicate with a peripheral device on the I2C bus, first create the transaction data struct that defines the operation and expected results. Then submit the transaction to the api via reference. Maintain the memory of the transaction while it is processing (the I2C module only maintains a pointer to the transaction), and poll the <code>processing_state</code> to determine when the transaction is <a class="el" href="i2c_8h.html#a73836a43ff119911dcac498a33713406a8b695999245408af6bbeb40924a2d178">HAL_I2C_TXN_STATE_COMPLETED</a>. Once completed, results can be retrieved from inside the transaction struct.</p>
<dl class="section attention"><dt>Attention</dt><dd><a class="el" href="stm32f4__i2c_8c.html#ada2552ad4f1a497f1db8a99b0e04b5bc">hal_i2c_transaction_servicer()</a> must be called periodically to service the transactions that are submitted to the I2C driver. Otherwise, they remain in the queue untouched.</dd></dl>
<p>Copyright (c) 2025 Cory McKiel. Licensed under the MIT License. See LICENSE file in the project root. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a42896651036dd6eda0fa60d8ad7960e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42896651036dd6eda0fa60d8ad7960e7">&#9670;&nbsp;</a></span>hal_i2c_op_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="i2c_8h.html#a42896651036dd6eda0fa60d8ad7960e7">hal_i2c_op_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The common I2C operations read, write, and write-read. </p>
<p>The most common use is most likely <a class="el" href="i2c_8h.html#a42896651036dd6eda0fa60d8ad7960e7a44e96a3a53a8ebfd7198165a63ff1c09">HAL_I2C_OP_WRITE_READ</a>. The mode allows reading a given register on the target device by first <em>writing</em> the address of the register to target follow by a <em>read</em>. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a42896651036dd6eda0fa60d8ad7960e7a0083c48e9e49b679f2bd9050765eb1a2"></a>_HAL_I2C_OP_MIN&#160;</td><td class="fielddoc"><p>Lower bound of enum. Inclusive. </p>
</td></tr>
<tr><td class="fieldname"><a id="a42896651036dd6eda0fa60d8ad7960e7a169c1de03c7c7e61ac878a162e357e74"></a>HAL_I2C_OP_WRITE&#160;</td><td class="fielddoc"><p>Send bytes to the target device. </p>
</td></tr>
<tr><td class="fieldname"><a id="a42896651036dd6eda0fa60d8ad7960e7a1ac0e4a4ac887a7572604fee24d9570a"></a>HAL_I2C_OP_READ&#160;</td><td class="fielddoc"><p>Read bytes from the target device. </p>
</td></tr>
<tr><td class="fieldname"><a id="a42896651036dd6eda0fa60d8ad7960e7a44e96a3a53a8ebfd7198165a63ff1c09"></a>HAL_I2C_OP_WRITE_READ&#160;</td><td class="fielddoc"><p>Most common pattern for reading a specific register from the target device. </p>
</td></tr>
<tr><td class="fieldname"><a id="a42896651036dd6eda0fa60d8ad7960e7ac08a21413f94559d948d3657522ec384"></a>_HAL_I2C_OP_MAX&#160;</td><td class="fielddoc"><p>Upper bound of enum. Exclusive. </p>
</td></tr>
</table>

</div>
</div>
<a id="a0acae19373139879152a34e99a4dc2c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0acae19373139879152a34e99a4dc2c4">&#9670;&nbsp;</a></span>hal_i2c_txn_result_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="i2c_8h.html#a0acae19373139879152a34e99a4dc2c4">hal_i2c_txn_result_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Result status of a completed transaction. </p>
<p>After a transaction is completed, the transaction result can be checked to inquire if the transaction was completed successfully or not.</p>
<dl class="section note"><dt>Note</dt><dd>The user never modifies this except to initialize to <a class="el" href="i2c_8h.html#a0acae19373139879152a34e99a4dc2c4ab326b20c38078593931669395f517a4e">HAL_I2C_TXN_RESULT_NONE</a>. </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a0acae19373139879152a34e99a4dc2c4a945fbe843c2c1874a4ee88bad6f904ea"></a>_HAL_I2C_TXN_RESULT_MIN&#160;</td><td class="fielddoc"><p>Lower bound of enum. Inclusive. </p>
</td></tr>
<tr><td class="fieldname"><a id="a0acae19373139879152a34e99a4dc2c4ab326b20c38078593931669395f517a4e"></a>HAL_I2C_TXN_RESULT_NONE&#160;</td><td class="fielddoc"><p>Default. Transaction result has not been set. </p>
</td></tr>
<tr><td class="fieldname"><a id="a0acae19373139879152a34e99a4dc2c4af96f3a162e453d960516690359d6eb6b"></a>HAL_I2C_TXN_RESULT_SUCCESS&#160;</td><td class="fielddoc"><p>The transaction was successfully processed. </p>
</td></tr>
<tr><td class="fieldname"><a id="a0acae19373139879152a34e99a4dc2c4ad6934f2a34a641e545682bf330e9d218"></a>HAL_I2C_TXN_RESULT_FAIL&#160;</td><td class="fielddoc"><p>The transaction was unable to be processed. </p>
</td></tr>
<tr><td class="fieldname"><a id="a0acae19373139879152a34e99a4dc2c4adfc12e91b26d6614e9d28141859efe1b"></a>_HAL_I2C_TX_RESULT_MAX&#160;</td><td class="fielddoc"><p>Upper bound of enum. Exclusive. </p>
</td></tr>
</table>

</div>
</div>
<a id="a73836a43ff119911dcac498a33713406"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73836a43ff119911dcac498a33713406">&#9670;&nbsp;</a></span>hal_i2c_txn_state_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="i2c_8h.html#a73836a43ff119911dcac498a33713406">hal_i2c_txn_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The possible states of an I2C transaction (txn). </p>
<p>An I2C transaction can be in only one of these states at any given time. It may only progress linearly through each state, unless it fails. In the case of failure, the transaction state is considered COMPLETED.</p>
<dl class="section note"><dt>Note</dt><dd>The user never modifies the state manually except to set <a class="el" href="i2c_8h.html#a73836a43ff119911dcac498a33713406a6569048c891443f52fbba36c994fe9c0">HAL_I2C_TXN_STATE_CREATED</a> during transaction initialization. </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a73836a43ff119911dcac498a33713406a4dc5f628215e989f71b66645f94cf2e2"></a>_HAL_I2C_TXN_STATE_MIN&#160;</td><td class="fielddoc"><p>Lower bound of enum. Inclusive. </p>
</td></tr>
<tr><td class="fieldname"><a id="a73836a43ff119911dcac498a33713406a6569048c891443f52fbba36c994fe9c0"></a>HAL_I2C_TXN_STATE_CREATED&#160;</td><td class="fielddoc"><p>The transaction has just been created and the state is not set. </p>
</td></tr>
<tr><td class="fieldname"><a id="a73836a43ff119911dcac498a33713406abc385220faffa17edd85401f145f4517"></a>HAL_I2C_TXN_STATE_QUEUED&#160;</td><td class="fielddoc"><p>The transaction has been submitted to the processing queue. </p>
</td></tr>
<tr><td class="fieldname"><a id="a73836a43ff119911dcac498a33713406a3b76823c974a7fd944d58c21b8f682c3"></a>HAL_I2C_TXN_STATE_PROCESSING&#160;</td><td class="fielddoc"><p>The transaction is now processing. It is currently commanding the I2C bus. </p>
</td></tr>
<tr><td class="fieldname"><a id="a73836a43ff119911dcac498a33713406a8b695999245408af6bbeb40924a2d178"></a>HAL_I2C_TXN_STATE_COMPLETED&#160;</td><td class="fielddoc"><p>The transaction is done being processed. Success/Failure is determined by checking <a class="el" href="i2c_8h.html#a0acae19373139879152a34e99a4dc2c4">hal_i2c_txn_result_t</a>. </p>
</td></tr>
<tr><td class="fieldname"><a id="a73836a43ff119911dcac498a33713406a155df6dd8d6e27d2ee2bbe1eac409f33"></a>_HAL_I2C_TXN_STATE_MAX&#160;</td><td class="fielddoc"><p>Upper bound of enum. Exclusive. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a84061c3f3bce491b1d3347716ca6d211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84061c3f3bce491b1d3347716ca6d211">&#9670;&nbsp;</a></span>hal_i2c_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hal__types_8h.html#ac2231a7f3681886d9b35e08c23759e27">hal_status_t</a> hal_i2c_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the I2C Module. Must be called prior to using the I2C Module. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="hal__types_8h.html#ac2231a7f3681886d9b35e08c23759e27aca9cb8926d38b93a5fc514af2a1627b0">HAL_STATUS_OK</a> on success. </dd></dl>

</div>
</div>
<a id="a5a7d3f9d0e0b8575989c65bbe023e514"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a7d3f9d0e0b8575989c65bbe023e514">&#9670;&nbsp;</a></span>hal_i2c_submit_transaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hal__types_8h.html#ac2231a7f3681886d9b35e08c23759e27">hal_status_t</a> hal_i2c_submit_transaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhal__i2c__txn__t.html">hal_i2c_txn_t</a> *&#160;</td>
          <td class="paramname"><em>txn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Submit a transaction to be processed by the driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">txn</td><td>A reference to a transaction with the appropriate fields already filled out. See <a class="el" href="structhal__i2c__txn__t.html">hal_i2c_txn_t</a> for details about filling out the transaction correctly, as well as information about checking progress.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="hal__types_8h.html#ac2231a7f3681886d9b35e08c23759e27aca9cb8926d38b93a5fc514af2a1627b0">HAL_STATUS_OK</a> if transaction was submitted successfully.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Successful return from this function <em>only</em> represents that the transaction was successfully queued.</dd>
<dd>
Clients must maintain the memory of their transactions. Only a <em>reference</em> to the transaction is queued. </dd></dl>

</div>
</div>
<a id="ada2552ad4f1a497f1db8a99b0e04b5bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada2552ad4f1a497f1db8a99b0e04b5bc">&#9670;&nbsp;</a></span>hal_i2c_transaction_servicer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hal__types_8h.html#ac2231a7f3681886d9b35e08c23759e27">hal_status_t</a> hal_i2c_transaction_servicer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called periodically to manage the loading and unloading of transactions. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="hal__types_8h.html#ac2231a7f3681886d9b35e08c23759e27aca9cb8926d38b93a5fc514af2a1627b0">HAL_STATUS_OK</a> on success. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_a413b7f902cba5167b433a6fe834d5bd.html">hal</a></li><li class="navelem"><a class="el" href="i2c_8h.html">i2c.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
