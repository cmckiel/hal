<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>hal: hal_i2c_txn_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">hal
   </div>
   <div id="projectbrief">Hardware Abstraction Layer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('structhal__i2c__txn__t.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structhal__i2c__txn__t-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">hal_i2c_txn_t Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The main data structure for interacting with the I2C module.  
 <a href="structhal__i2c__txn__t.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="i2c_8h_source.html">i2c.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad4b3499d0eb0a02b49b1fd155102bf6f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhal__i2c__txn__t.html#ad4b3499d0eb0a02b49b1fd155102bf6f">target_addr</a></td></tr>
<tr class="separator:ad4b3499d0eb0a02b49b1fd155102bf6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c736e9b0064390485f21c5ea5e7a05e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="i2c_8h.html#a42896651036dd6eda0fa60d8ad7960e7">hal_i2c_op_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhal__i2c__txn__t.html#a5c736e9b0064390485f21c5ea5e7a05e">i2c_op</a></td></tr>
<tr class="separator:a5c736e9b0064390485f21c5ea5e7a05e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae21cc521a785f88646b9b16504aae4bb"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhal__i2c__txn__t.html#ae21cc521a785f88646b9b16504aae4bb">tx_data</a> [<a class="el" href="i2c_8h.html#a288204e6e369c6da1e4470acbed291fd">TX_MESSAGE_MAX_LENGTH</a>]</td></tr>
<tr class="separator:ae21cc521a785f88646b9b16504aae4bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a307ab741e8c6db3d37672ffe640af02b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhal__i2c__txn__t.html#a307ab741e8c6db3d37672ffe640af02b">expected_bytes_to_tx</a></td></tr>
<tr class="separator:a307ab741e8c6db3d37672ffe640af02b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11ba9f2f3a27b374c7d0b7391c570c88"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhal__i2c__txn__t.html#a11ba9f2f3a27b374c7d0b7391c570c88">expected_bytes_to_rx</a></td></tr>
<tr class="separator:a11ba9f2f3a27b374c7d0b7391c570c88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79957155867311cae5bcbce152507cd5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="i2c_8h.html#a73836a43ff119911dcac498a33713406">hal_i2c_txn_state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhal__i2c__txn__t.html#a79957155867311cae5bcbce152507cd5">processing_state</a></td></tr>
<tr class="separator:a79957155867311cae5bcbce152507cd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35b5dd51a25dc22eb85ef9d63f906733"><td class="memItemLeft" align="right" valign="top"><a class="el" href="i2c_8h.html#a0acae19373139879152a34e99a4dc2c4">hal_i2c_txn_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhal__i2c__txn__t.html#a35b5dd51a25dc22eb85ef9d63f906733">transaction_result</a></td></tr>
<tr class="separator:a35b5dd51a25dc22eb85ef9d63f906733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad062c2d2b481c25736137723491768b8"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhal__i2c__txn__t.html#ad062c2d2b481c25736137723491768b8">actual_bytes_received</a></td></tr>
<tr class="separator:ad062c2d2b481c25736137723491768b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac94d4bfda99b1f8e97cb675eb7ff264b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhal__i2c__txn__t.html#ac94d4bfda99b1f8e97cb675eb7ff264b">actual_bytes_transmitted</a></td></tr>
<tr class="separator:ac94d4bfda99b1f8e97cb675eb7ff264b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae38c3f15dfaa5111f03dfcde52d77586"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhal__i2c__txn__t.html#ae38c3f15dfaa5111f03dfcde52d77586">rx_data</a> [<a class="el" href="i2c_8h.html#afcbd3ba60dd1119aa4c771d6ea7a1ea7">RX_MESSAGE_MAX_LENGTH</a>]</td></tr>
<tr class="separator:ae38c3f15dfaa5111f03dfcde52d77586"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The main data structure for interacting with the I2C module. </p>
<p>All interactions with the I2C driver involve using this data structure. In it is defined everything needed to initiate and complete a single I2C transaction with a target device, including the device address, the operation mode, the data to send (if any), and the expected data to receive (if any). It also includes status information used to track progress and check for success or failure.</p>
<p>The use of this transaction struct involves initializing the proper inputs, polling the the <a class="el" href="structhal__i2c__txn__t.html#a79957155867311cae5bcbce152507cd5">processing_state</a>, and reading the outputs once the state is complete.</p>
<dl class="section note"><dt>Note</dt><dd>When submitting a transaction for processing, the client must maintain the memory for the transaction. Only a reference is passed to the driver. If the memory for the transaction is erased (i.e. declared in a function followed by the function's return) then the I2C driver will operate on a reference to invalid memory. </dd></dl>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="ad062c2d2b481c25736137723491768b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad062c2d2b481c25736137723491768b8">&#9670;&nbsp;</a></span>actual_bytes_received</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t hal_i2c_txn_t::actual_bytes_received</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The actual number of bytes that got read during the transaction. Init to 0. </p>

</div>
</div>
<a id="ac94d4bfda99b1f8e97cb675eb7ff264b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac94d4bfda99b1f8e97cb675eb7ff264b">&#9670;&nbsp;</a></span>actual_bytes_transmitted</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t hal_i2c_txn_t::actual_bytes_transmitted</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The actual number of bytes that got transmitted during the transaction. Init to 0. </p>

</div>
</div>
<a id="a11ba9f2f3a27b374c7d0b7391c570c88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11ba9f2f3a27b374c7d0b7391c570c88">&#9670;&nbsp;</a></span>expected_bytes_to_rx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t hal_i2c_txn_t::expected_bytes_to_rx</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The desired number of bytes to read from the device during this transaction. Only set for READ or WRITE-READ. </p>

</div>
</div>
<a id="a307ab741e8c6db3d37672ffe640af02b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a307ab741e8c6db3d37672ffe640af02b">&#9670;&nbsp;</a></span>expected_bytes_to_tx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t hal_i2c_txn_t::expected_bytes_to_tx</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The num of bytes to send the device. Include the reg addr in the count. </p>

</div>
</div>
<a id="a5c736e9b0064390485f21c5ea5e7a05e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c736e9b0064390485f21c5ea5e7a05e">&#9670;&nbsp;</a></span>i2c_op</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="i2c_8h.html#a42896651036dd6eda0fa60d8ad7960e7">hal_i2c_op_t</a> hal_i2c_txn_t::i2c_op</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The type of transaction. i.e. READ, WRITE, or WRITE-READ. </p>

</div>
</div>
<a id="a79957155867311cae5bcbce152507cd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79957155867311cae5bcbce152507cd5">&#9670;&nbsp;</a></span>processing_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="i2c_8h.html#a73836a43ff119911dcac498a33713406">hal_i2c_txn_state_t</a> hal_i2c_txn_t::processing_state</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Submit transaction with CREATED. When processing_state == COMPLETED then client can collect results. Safe to check periodically. Poll to determine when transaction has been completed. </p>

</div>
</div>
<a id="ae38c3f15dfaa5111f03dfcde52d77586"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae38c3f15dfaa5111f03dfcde52d77586">&#9670;&nbsp;</a></span>rx_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t hal_i2c_txn_t::rx_data[<a class="el" href="i2c_8h.html#afcbd3ba60dd1119aa4c771d6ea7a1ea7">RX_MESSAGE_MAX_LENGTH</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Data read from device will be stored here. Only valid after processing_state == COMPLETED. Init rx_data to zeros when creating the transaction struct. </p>

</div>
</div>
<a id="ad4b3499d0eb0a02b49b1fd155102bf6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4b3499d0eb0a02b49b1fd155102bf6f">&#9670;&nbsp;</a></span>target_addr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t hal_i2c_txn_t::target_addr</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The I2C address of the target device. </p>

</div>
</div>
<a id="a35b5dd51a25dc22eb85ef9d63f906733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35b5dd51a25dc22eb85ef9d63f906733">&#9670;&nbsp;</a></span>transaction_result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="i2c_8h.html#a0acae19373139879152a34e99a4dc2c4">hal_i2c_txn_result_t</a> hal_i2c_txn_t::transaction_result</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Only valid once processing_state == COMPLETED. Contains the result of the transaction (success, fail, etc). Init to NONE. </p>

</div>
</div>
<a id="ae21cc521a785f88646b9b16504aae4bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae21cc521a785f88646b9b16504aae4bb">&#9670;&nbsp;</a></span>tx_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t hal_i2c_txn_t::tx_data[<a class="el" href="i2c_8h.html#a288204e6e369c6da1e4470acbed291fd">TX_MESSAGE_MAX_LENGTH</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The data to send. Put the register addr in the first slot. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/__w/hal/hal/include/hal/<a class="el" href="i2c_8h_source.html">i2c.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structhal__i2c__txn__t.html">hal_i2c_txn_t</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
